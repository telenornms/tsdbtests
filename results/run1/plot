reset
set terminal pngcairo size 1000,600 
set output 'services_performance.png'

set style data histogram
set style histogram rowstacked
set style fill solid border -1
set boxwidth 0.8
set key outside
set key reverse Left

set ylabel "Performance"
set xlabel "Test Type"
set xtics rotate by -45

# Generate a mapping of test types
set datafile separator whitespace

# Create categories (devops, iot, cpu_only)
set ytics nomirror
unset border
set style histogram clustered gap 1
set style fill solid 1.0 border rgb "black"
set grid ytics

# horizontal bars
set style data histograms

# read data into arrays
plot for [COL=2:5] 'histogram_data.dat' using COL:xtic(1) title columnheader
